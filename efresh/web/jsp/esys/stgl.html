<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>系统管理</title>
		<link rel="stylesheet" href="../css/iframe_style.css" />
		<link rel="stylesheet" href="../css/login.css" />
		<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/skins/flat/orange.css" />
		<script type="text/javascript" src="../js/jquery1.10.2.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/icheck.min.js"></script>
	</head>

	<body bgcolor="transparent" style='background:transparent'>

		<div class="iframe_main2">

			<div class="iframe_wrap">
				<div class="claw">
					<strong class="cktitle float_l">数据库：</strong>
					<!-- <div class="corridor">
               	
               </div>	-->
					<div class="clasp corridor">
						<div class="gtf_txt"></div>
						<span class="brass" style="top:0"><img src="../images/014.png"/></span>
						<div class="bronze bronze3">
							<span>全部1</span>
							<span>全部2</span>
							<span>全部3</span>
						</div>

					</div>
					<button class="btn" id="clks">搜索</button>

				</div>

				<div class="crawl cunning">
					<input type="checkbox" name="allset" />
					<span class="all_check">全选</span>
					<button class="btn btn-danger cucumber" style="margin-right: 20px;" disabled="disabled">删除</button>
					<button class="btn btn-warning cucumber2 add_Btn">新增</button>

				</div>

				<div class="clear"></div>

				<table class="table table-bordered" id="curiosity">
					<thead>
						<tr>
							<th width="10%">序号</th>
							<th width="21%">IP地址</th>
							<th width="18%">数据库</th>
							<th width="15%">用户名</th>
							<th width="17%">密码</th>
							<th width="19%">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<div class="curse">
									<span style="display: none;" class="deadly">
								<input type="checkbox" class="float_l dairy " />	
								</span>
									<input type="text" value="01" class="shnum tomat" />
									<span class="order-txt">01</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="192.168.2.5" class="ipaddss tomat" />
									<span class="order-txt">192.168.2.5</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="ORACLE" class="seriver tomat" />
									<span class="order-txt">ORACLE</span>
								</div>
							</td>
							<td>

								<div class="curse">
									<input type="text" value="Administrator" class="cosk_name tomat" />
									<span class="order-txt">Administrator</span>
								</div>

							</td>
							<td>
								<div class="curse">
									<input type="password" value="********" class="password tomat" />
									<span class="order-txt">********</span>
								</div>
							</td>
							<td>
								<div class="btnGronp">
									<button class="xgbtn">修改</button>
									<button class="deletebtn">删除</button>
									<div class="clear"></div>
									<button class="qhbtn">切换</button>
									<div class="clear"></div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div class="curse">
									<span style="display: none;" class="deadly">
								<input type="checkbox" class="float_l dairy " />	
								</span>
									<input type="text" value="01" class="shnum tomat" />
									<span class="order-txt">01</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="192.168.2.5" class="ipaddss tomat" />
									<span class="order-txt">192.168.2.5</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="ORACLE" class="seriver tomat" />
									<span class="order-txt">ORACLE</span>
								</div>
							</td>
							<td>

								<div class="curse">
									<input type="text" value="Administrator" class="cosk_name tomat" />
									<span class="order-txt">Administrator</span>
								</div>

							</td>
							<td>
								<div class="curse">
									<input type="password" value="********" class="password tomat" />
									<span class="order-txt">********</span>
								</div>
							</td>
							<td>
								<div class="btnGronp">
									<button class="xgbtn">修改</button>
									<button class="deletebtn">删除</button>
									<div class="clear"></div>
									<button class="qhbtn">切换</button>
									<div class="clear"></div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div class="curse">
									<span style="display: none;" class="deadly">
								<input type="checkbox" class="float_l dairy " />	
								</span>
									<input type="text" value="01" class="shnum tomat" />
									<span class="order-txt">01</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="192.168.2.5" class="ipaddss tomat" />
									<span class="order-txt">192.168.2.5</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="ORACLE" class="seriver tomat" />
									<span class="order-txt">ORACLE</span>
								</div>
							</td>
							<td>

								<div class="curse">
									<input type="text" value="Administrator" class="cosk_name tomat" />
									<span class="order-txt">Administrator</span>
								</div>

							</td>
							<td>
								<div class="curse">
									<input type="password" value="********" class="password tomat" />
									<span class="order-txt">********</span>
								</div>
							</td>
							<td>
								<div class="btnGronp">
									<button class="xgbtn">修改</button>
									<button class="deletebtn">删除</button>
									<div class="clear"></div>
									<button class="qhbtn">切换</button>
									<div class="clear"></div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div class="curse">
									<span style="display: none;" class="deadly">
								<input type="checkbox" class="float_l dairy " />	
								</span>
									<input type="text" value="01" class="shnum tomat" />
									<span class="order-txt">01</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="192.168.2.5" class="ipaddss tomat" />
									<span class="order-txt">192.168.2.5</span>
								</div>
							</td>
							<td>
								<div class="curse">
									<input type="text" value="ORACLE" class="seriver tomat" />
									<span class="order-txt">ORACLE</span>
								</div>
							</td>
							<td>

								<div class="curse">
									<input type="text" value="Administrator" class="cosk_name tomat" />
									<span class="order-txt">Administrator</span>
								</div>

							</td>
							<td>
								<div class="curse">
									<input type="password" value="********" class="password tomat" />
									<span class="order-txt">********</span>
								</div>
							</td>
							<td>

								<div class="btnGronp">
									<button class="xgbtn">修改</button>
									<button class="deletebtn">删除</button>
									<div class="clear"></div>
									<button class="qhbtn">切换</button>
									<div class="clear"></div>
								</div>

							</td>
						</tr>
					</tbody>

				</table>
				<div style="clear: both;"></div>
				<!--分页-->
				<div class="measures">
					<span class="fomnr">共40条记录，每页显示20条</span>
					<ul class="pager agenda">
						<li><a href="#">上一页</a></li>
						<li><a href="#">下一页</a></li>
					</ul>
				</div>
				<!--分页-->
			</div>
			<div class="clear"></div>
		</div>

	</body>
	<script type="text/javascript">
		var _abuse;
		$(document).ready(function() {
			$('input').iCheck({
				checkboxClass: 'icheckbox_flat-orange',
				radioClass: 'iradio_flat-orange'
			});
			$('input[name=allset]').on('ifChecked', function() {
				$('.deadly').css('display', 'block');
				$('.dairy').iCheck('check'); //点击全选时设置为选中状态
				$('.cucumber').removeAttr('disabled');
			})
			$('input[name=allset]').on('ifUnchecked', function() {
				$('.deadly').css('display', 'none');
				$('.cucumber').attr('disabled', 'disabled');
			})
		});
		$('.xgbtn').on('click', function() {
			var _this = $(this);
			var _buyk = "";
			if (_this.hasClass('ket')) {
				_this.text('修改'); //点击保存时遍历所有的输入框
				_this.parents('tr').find('.tomat').each(function(index, val) {
					//_buyk=_buyk+$(this).val();
					//_abuse=$(this).parents('td').index();
					//console.log(_buyk); 
					$(this).next('span').text($(this).val()); //遍历完赋值
					$(this).attr('value', $(this).next('span').text());
				})
				_this.parents('tr').find('input').hide()
				_this.parents('tr').find('.order-txt').show();
				_this.removeClass('ket');
			} else {
				_this.parents('tr').find('input').show();
				_this.parents('tr').find('.order-txt').hide();
				_this.text('保存');
				_this.addClass('ket');
			}
		})
	</script>
	<script type="text/javascript">
		$(function() {
			$('.clasp').on('click', function() {
				$('.bronze3').slideDown("fast");
			})
			$('.bronze3').find('span').on('click', function() {
				$('.gtf_txt').text($(this).text());
				$('.bronze3').slideUp("fast");
				return false;
			})
			$('.qhbtn').on('click', function() {
				$(window.parent.document).find('.full_window').show();
			})
			$('.cucumber').on('click', function() {
				$('#curiosity').find('tbody').remove();
			});
			$('.add_Btn').on('click', function() {
				var _Str = '<tr><td><div class="curse"><span style="display: none;" class="deadly"><input type="checkbox" class="float_l dairy " /></span><input type="text" value="" class="shnum tomat"  style="display:block"/><span class="order-txt"></span></div></td><td><div class="curse"><input type="text" value="" class="ipaddss tomat" style="display:block" /><span class="order-txt"></span></div></td><td><div class="curse"><input type="text" value="" class="seriver tomat" style="display:block"/><span class="order-txt"></span></div></td><td><div class="curse"><input type="text" value="" class="cosk_name tomat" style="display:block" /><span class="order-txt"></span></div></td><td><div class="curse"><input type="password" value="" class="password tomat" style="display:block" /><span class="order-txt"></span></div></td><td><div class="btnGronp"><button class="xgbtn2">保存</button><button class="deletebtn">删除</button><div class="clear"></div><button class="qhbtn">切换</button><div class="clear"></div></div></td></tr>';
				$(_Str).appendTo($('#curiosity tbody'));
			})
			$('#curiosity').on('click', '.xgbtn2', function() {
					var _this = $(this);
					if (_this.hasClass('ast')) {
						_this.text('保存');
						_this.parents('tr').find('input').show();
						_this.parents('tr').find('.order-txt').hide();
						_this.removeClass('ast');
					} else {
						_this.parents('tr').find('.tomat').each(function(index, val) {
							$(this).next('span').text($(this).val());
							$(this).attr('value', $(this).next('span').text());
							if ($(this).hasClass('password')) {
								if ($(this).val()) {
									_this.text('修改');
									$(this).next('span').text("********");
									_this.parents('tr').find('input').hide()
									_this.parents('tr').find('.order-txt').show();
									_this.addClass('ast');
								} else {
									alert('请输入值');
								}
							} else {
								//alert('请输入值');
							}
						})
					}
				})
				//删除操作
			$('#curiosity').on('click', '.deletebtn', function() {
					var _this = $(this);
					_this.parents('tr').hide(500);
				})
				//切换操作
			$('#curiosity').on('click', '.qhbtn', function() {
				$(window.parent.document).find('.full_window').show();
				$(window.parent.document).find('.magnet').show();
			})
		})
	</script>

</html>